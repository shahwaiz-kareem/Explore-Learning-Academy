exports.id=185,exports.ids=[185],exports.modules={6561:(e,t,a)=>{Promise.resolve().then(a.bind(a,7760)),Promise.resolve().then(a.bind(a,5371)),Promise.resolve().then(a.bind(a,3971)),Promise.resolve().then(a.bind(a,6375)),Promise.resolve().then(a.bind(a,3440)),Promise.resolve().then(a.bind(a,52))},7760:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(326),s=a(52),n=a(7577);let d=({children:e})=>{let{showMenu:t}=(0,n.useContext)(s.T);return r.jsx("main",{className:`w-full transition-all  duration-300 bg-gray-200 min-h-screen ${t?"md:ml-64  md:w-[calc(100%-256px)]":""}`,children:e})}},5371:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var r=a(326),s=a(52),n=a(7577);let d=()=>{let{setShowMenu:e}=(0,n.useContext)(s.T);return r.jsx("div",{className:"py-6 px-6 bg-[#f8f4f3] flex items-center justify-between shadow-md shadow-black/5 sticky top-0 left-0 z-30",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-row-reverse",children:[r.jsx("a",{href:"#",className:"flex md:hidden     border-b border-b-gray-800",children:(0,r.jsxs)("h2",{className:"font-bold text-lg sm:text-2xl",children:["Mountain",r.jsx("span",{className:"bg-green-400 text-white px-2 rounded-md",children:"Coaders"})]})}),(0,r.jsxs)("button",{type:"button",onClick:()=>e(e=>!e),className:"text-lg flex gap-0.5 flex-col text-gray-900 font-semibold z-40 relative",children:[r.jsx("div",{className:"w-7 h-1 rounded-full bg-gray-700"}),r.jsx("div",{className:"w-7 h-1 rounded-full bg-gray-700"}),r.jsx("div",{className:"w-7 h-1 rounded-full bg-gray-700"})]})]})})}},3971:(e,t,a)=>{"use strict";a.d(t,{default:()=>b});var r=a(326),s=a(434),n=a(5047);let d=()=>{let e=(0,n.useRouter)(),t=async()=>{document.cookie="dashboard-token=; Max-Age=0; path=/;",e.push("/auth/signin")};return r.jsx("div",{children:r.jsx("button",{onClick:t,className:"px-4 py-2 w-full bg-black rounded-lg text-white ",children:"Logout"})})};var c=a(5850),i=a(687),l=a(7765);let o=[{heading:"ADMIN",pages:[{name:"Dashboard",href:"/dashboard",icon:c.Ez2},{name:"Batches",href:"/dashboard/batches",icon:l.Zev},{name:"Contact info",href:"/dashboard/contact",icon:i.a54},{name:"Settings",href:"/dashboard/settings",icon:i.MBj},{name:"FAQs",href:"/dashboard/faqs",icon:l.KpA}]},{heading:"Student Resources",pages:[{name:"Notes&code",href:"/dashboard/notes",icon:i.lOc}]}];var h=a(7577),u=a(52),f=a(6226);let b=()=>{let{showMenu:e}=(0,h.useContext)(u.T);return(0,r.jsxs)("div",{className:`fixed top-0 left-0 h-full w-64 bg-[#f8f4f3] p-2 z-20 transition-transform duration-300 transform ${e?"translate-x-0":"-translate-x-full"}`,children:[r.jsx(s.default,{href:"/",children:r.jsx(f.default,{className:" ",src:"/assets/logo.png",height:20,width:70})}),o.map(e=>(0,r.jsxs)("ul",{className:"mt-12 md:mt-6",children:[r.jsx("span",{className:"text-gray-400 mt-2 font-bold",children:e.heading}),e.pages.map((e,t)=>r.jsx("li",{className:"mb-6 group",children:(0,r.jsxs)(s.default,{href:e.href,className:"flex font-semibold items-center py-2 px-4 text-gray-900 hover:bg-gray-950 hover:text-gray-100 rounded-md group-[.active]:bg-gray-800 group-[.active]:text-white group-[.selected]:bg-gray-950 group-[.selected]:text-gray-100",children:[r.jsx(e.icon,{className:"ri-home-2-line mr-3 text-lg"}),r.jsx("span",{className:"text-sm",children:e.name})]})},`${e.name}-${e.href}`))]},`${e.heading}-${JSON.stringify(e.pages)}`)),r.jsx(d,{})]})}},1130:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>f,$$ACTION_1:()=>g,$$ACTION_2:()=>p,$$ACTION_3:()=>w,$$ACTION_4:()=>j,$$ACTION_5:()=>S,$$ACTION_6:()=>$,getBatch:()=>b,getBatches:()=>u,getBatchesCount:()=>x,getDetails:()=>N,reConstructBatches:()=>v,registerBatch:()=>m,updateBatch:()=>y});var r=a(7745);a(6461);var s=a(2094),n=a(1164),d=a(4696),c=a(207),i=a(7714),l=a(5723);let o=e=>JSON.parse(JSON.stringify(e)),h=async()=>await (0,i.getSettings)(),u=(0,r.j)("5df757e2b8b69f2fca9b7d7ce3b623b582ab8b7b",f);async function f(){await (0,s.T)();try{let e=await (0,d.getStudents)(),t=await h(),a=await n.E.find(),r=t.maxStudents,s=[],c=Math.ceil(e.length/r),i=0;for(;i<c;){let t=e.slice(i*r,(i+1)*r),n=t.length;s.push({batch_no:s.length+1,active:a[i]&&a[i].active,students:t,totalStudents:n,completed:n===r}),i++}return o({success:!0,message:"Batches are created",data:s})}catch(e){throw Error(e.message)}}let b=(0,r.j)("f91e2933e5c4a2da8153377fab6a0797e6f03829",g);async function g(e){await (0,s.T)();try{let t=await n.E.findOne({batch_no:e});return o({success:!0,message:"Batch is fetched",data:t})}catch(e){throw Error(e.message)}}let m=(0,r.j)("9c18a6a866dc2ff11a6d2ac70f80ed9c4f4e97e4",p);async function p(e){await (0,s.T)();try{let t=(await h()).maxStudents,a=(await (0,d.getStudents)()).slice((e-1)*t,(e-1+1)*t),r=await n.E.create({batch_no:e,active:!1,completed:a.length===t,students:a,startDate:Date.now()});return(0,c.revalidatePath)("dashboard/batches"),(0,c.revalidatePath)("/"),o({success:!0,message:"Batch is registered successfully",data:r})}catch(e){throw Error(e.message)}}let y=(0,r.j)("f8778c678b86ad4ea18631a5b063a3cbe2d8d2d6",w);async function w(e,t){await (0,s.T)();try{return await n.E.findByIdAndUpdate(e,{$set:{...t}}),(0,c.revalidatePath)("/dashboard/batches"),(0,c.revalidatePath)("/details"),o({success:!0,message:"Batch is registered successfully"})}catch(e){throw Error(e.message)}}let x=(0,r.j)("b2fea6e4d8808b34a9f166ea7667bc572f712669",j);async function j(){await (0,s.T)();try{let e=await n.E.find();return o({count:e.length,success:!0,message:"Got all batches"})}catch(e){throw Error(e.message)}}let v=(0,r.j)("3cc58a605418b1f51577a06d4fd1426cd16190ed",S);async function S(){await (0,s.T)();try{let e=await n.E.find();await n.E.deleteMany({});let t=await h(),a=await (0,d.getStudents)(),r=t.maxStudents,s=0,i=Math.ceil(a.length/r),l=[];for(;s<i;){let t=a.slice(s*r,(s+1)*r),n=t.length,d=e[s]||{};l.push({batch_no:s+1,active:d.active||!1,students:t,totalStudents:n,completed:n===r,startDate:d.startDate||Date.now()}),s++}return await n.E.insertMany(l),(0,c.revalidatePath)("dashboard/batches"),o({success:!0,batches:l})}catch(e){throw Error(e.message)}}let N=(0,r.j)("b56717df069b6973024c19e20f451d83093e735a",$);async function $(){await (0,s.T)();try{let e=await h(),t=e.maxStudents,a=await n.E.findOne({active:!0}).lean(),r=0;return a&&(r=t-a.students.length),o({availableSeats:r,startDate:a?.startDate||new Date,...e})}catch(e){throw Error(e.message)}}(0,l.h)([u,b,m,y,x,v,N]),(0,r.j)("d56e281483b12a3a9ed623f123cdc5d84f21a046",u),(0,r.j)("a28290b6aeb124841eb06530a19962b28292c845",b),(0,r.j)("26f8614beb3a55e14e25072befcc180985c972b6",m),(0,r.j)("431123d305cdda77e6372ed3c857cfe4511eab8d",y),(0,r.j)("65b2fb799226572c47563c292e82fa50b005494c",x),(0,r.j)("fe594d6b83a9b04f62e08549095cedb62936e9c9",v),(0,r.j)("c6e4ba41f842e43d48508ee1e6d90fb3b0a1491e",N)},7714:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>b,$$ACTION_1:()=>m,getSettings:()=>g,upsertSettings:()=>f});var r=a(7745);a(6461);var s=a(2094),n=a(1185),d=a.n(n);let c=new(d()).Schema({feePerMonth:{type:Number,required:[!0,"Fee per month is required"],min:[1,"Fee per month must be at least 1"]},maxStudents:{type:Number,required:[!0,"Maximum number of students is required"],min:[1,"There must be at least 1 student in the batch"]},duration:{type:Number,required:[!0,"Duration is required"],min:[1,"Duration must be at least 1 month"]},shiftTiming1:{type:String,required:[!0,"First shift timing is required"]},shiftTiming2:{type:String,required:[!0,"Second shift timing is required"]}}),i=d().models.Setting||d().model("Setting",c);var l=a(207),o=a(1130),h=a(5723);let u=e=>JSON.parse(JSON.stringify(e)),f=(0,r.j)("d5a2a228354ea883951964b11c5b6cc12af97b68",b);async function b(e){await (0,s.T)();try{let t=await i.findOneAndUpdate({},{$set:e},{new:!0,upsert:!0});return await (0,o.reConstructBatches)(),(0,l.revalidatePath)("/dashboard/batches"),(0,l.revalidatePath)("/dashboard/settings"),(0,l.revalidatePath)("/"),(0,l.revalidatePath)("/enroll"),(0,l.revalidatePath)("/details"),u(t)}catch(e){throw console.log(e),Error("Error updating settings: "+e.message)}}let g=(0,r.j)("b78171191871fbee6ff9c4a4fc7fc3f2a216c4a9",m);async function m(){await (0,s.T)();try{let e=await i.findOne({}).lean();return u(e)}catch(e){return console.log(e),u(e.message)}}(0,h.h)([f,g]),(0,r.j)("6f7fae645fadf9458dd59449d190493db2905614",f),(0,r.j)("383d09b58801c79f9bcfc80543283f781319470f",g)},4696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>m,$$ACTION_1:()=>y,$$ACTION_2:()=>x,$$ACTION_3:()=>v,$$ACTION_4:()=>N,deleteStudent:()=>j,enrollStudent:()=>g,getStudentById:()=>w,getStudents:()=>p,getStudentsStatastics:()=>S});var r=a(7745);a(6461);var s=a(2094),n=a(1164),d=a(8013),c=a(1185),i=a.n(c);let l=new(i()).Schema({name:{type:String,required:!0},father:{type:String,required:!0},age:{type:String,required:!0},education:{type:String,required:!0},gender:{type:String,required:!0},phone:{type:String,required:!0},email:{type:String,required:!0},computerSkill:{type:String,required:!0},laptop:{type:String,required:!0}},{timestamps:!0}),o=i().models.Student||i().model("Student",l);var h=a(207),u=a(1130),f=a(5723);let b=e=>JSON.parse(JSON.stringify(e)),g=(0,r.j)("d5e6c918c88c85a6e65dd467baf7a251f7a2b8f7",m);async function m(e){await (0,s.T)();try{if(!e)return b({success:!1,message:"Your data is incorrect"});let t=await o.create(e),a=await (0,u.getBatchesCount)();return 0===a.count?await (0,u.registerBatch)(1):await n.E.findOneAndUpdate({batch_no:a.count},{$push:{students:t}}),(0,h.revalidatePath)("dashboard/batches"),(0,h.revalidatePath)("dashboard/"),(0,h.revalidatePath)("/"),b({success:!0,message:"Congratulations! You have been enrolled successfully. We will contact you soon."})}catch(e){throw Error(e.message)}}let p=(0,r.j)("2b2d2caab30ec8227de16cbeceae2f592531d41b",y);async function y(){await (0,s.T)();try{let e=await o.find().sort({createdAt:1}).lean();return b(e)}catch(e){throw Error(e.message)}}let w=(0,r.j)("0726b5286c78a38c9ee43bfaec060a1d7f2fdbaa",x);async function x(e){await (0,s.T)();try{let t=await o.findById({_id:e}).lean();return b({...t})}catch(e){throw Error(e.message)}}let j=(0,r.j)("562da6de63fcf6c693510fc7283a168515ca8288",v);async function v(e,t){await (0,s.T)();try{if(!await o.findByIdAndDelete(e))return b({success:!1,message:"Student not found"});await n.E.findOneAndUpdate({batch_no:t},{$pull:{students:{_id:new d.ObjectId(e)}}});let a=await (0,u.reConstructBatches)();return b({success:!0,data:a.batches[t-1]})}catch(e){throw Error(`Error deleting student and updating batch: ${e.message}`)}}let S=(0,r.j)("2da5a9f2b817737cf23733a400b39bb479186b58",N);async function N(){await (0,s.T)();try{let e=new Date;e.setHours(0,0,0,0);let t=await o.find().lean(),a=await o.find({createdAt:{$gte:e}}).lean();return b({totalStudents:t.length,todaysStudents:a.length,todaysData:a})}catch(e){throw Error(e.message)}}(0,f.h)([g,p,w,j,S]),(0,r.j)("bdcdcad6d2483e7f78d5d0eff3b576c4caca85de",g),(0,r.j)("d8f4f017b2e83604aa07115238e6b1009a6bbd53",p),(0,r.j)("a2e1789c2b06c05dcbba7a6c0b277b468b86c7b8",w),(0,r.j)("7bafd644f7f02b42829a5058c153552fc71506a7",j),(0,r.j)("94e62f685719d4a9f09633ffc3bddf09e69d35d8",S)},3146:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,metadata:()=>h});var r=a(9510),s=a(1175);a(9723);var n=a(7114),d=a(8570);let c=(0,d.createProxy)(String.raw`/home/shah23/Desktop/explore-Learning-Academy webapp/src/components/dashboard/Navbar.jsx#default`),i=(0,d.createProxy)(String.raw`/home/shah23/Desktop/explore-Learning-Academy webapp/src/components/dashboard/Sidebar.jsx#default`),l=(0,d.createProxy)(String.raw`/home/shah23/Desktop/explore-Learning-Academy webapp/src/components/dashboard/Container.jsx#default`);var o=a(1577);let h={title:"Dashboard || ExploreLearning AcademyYasin",description:"This is ExploreLearning AcademyYasin dashboard"};function u({children:e}){return r.jsx("html",{lang:"en",children:r.jsx(s.X,{children:(0,r.jsxs)("body",{children:[r.jsx(n.Z,{color:"#000000"}),r.jsx(i,{}),(0,r.jsxs)(l,{children:[r.jsx(c,{}),r.jsx(o.Z,{}),e]})]})})})}},2094:(e,t,a)=>{"use strict";a.d(t,{T:()=>d});var r=a(1185),s=a.n(r);let n=!1,d=async()=>{if(!n)try{await s().connect(process.env.MONGO_URI),n=!0}catch(e){throw Error("Database connection error: "+e.message)}}},1164:(e,t,a)=>{"use strict";a.d(t,{E:()=>d});var r=a(1185),s=a.n(r);let n=new(s()).Schema({batch_no:{type:Number,required:!0},students:[],active:{type:Boolean,default:!1},startDate:{type:Date,required:!0},completed:{type:Boolean,default:!1}}),d=s().models.Batch||s().model("Batch",n)},9723:()=>{}};